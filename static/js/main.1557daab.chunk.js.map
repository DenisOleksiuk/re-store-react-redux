{"version":3,"sources":["reducers/book-list.js","reducers/shopping-cart.js","reducers/index.js","store.js","components/shop-header/index.js","components/shop-header/shop-header.jsx","components/bookstore-service-context/bookstore-service-context.js","components/hoc/with-bookstore-service.jsx","actions/index.js","components/spinner/index.js","components/spinner/spinner.jsx","components/book-list-item/index.js","components/book-list-item/book-list-item.jsx","components/book-list/book-list.jsx","components/error-indicator/error-indicator.jpg","components/error-indicator/index.js","components/error-indicator/error-indicator.jsx","components/containers/index.js","utils/compose.js","components/containers/BookListConrainer.jsx","components/shopping-cart-table/shopping-cart-table.jsx","components/shopping-cart-table/index.js","components/pages/home-page.jsx","components/pages/cart-page.jsx","components/app/index.js","components/app/App.jsx","components/error-boundry/index.js","components/error-boundry/error-boundry.jsx","index.js","services/bookstore-service.js"],"names":["updateBookList","state","action","undefined","books","loading","error","type","payload","bookList","updateOrder","bookId","quantity","cartItems","shoppingCart","book","find","id","itemIndex","findIndex","newCartItems","item","idx","count","slice","updateCartItems","title","total","price","updateCartItem","totalCostOrders","reduce","acc","orderTotal","updateShoppingCart","reducer","store","createStore","applyMiddleware","next","getState","dispatch","ShopHeader","connect","numItems","length","className","to","React","createContext","BookstoreServiceProvider","Provider","BookstoreServiceConsumer","Consumer","withBookstoreSrvice","Wrapped","props","bookstoreService","bookAddedToCart","fetchBooks","getBooks","then","data","catch","booksFetchError","Spinner","BookListItem","onAddedToCart","author","coverImage","src","alt","onClick","BookList","map","ErrorIndicator","icon","BookListConrainer","fn","comp","reduceRight","wrapped","f","compose","useEffect","mapDispatchToProps","onIncrease","onDecrease","onDelete","ShoppingCartTable","items","HomePage","CartPage","App","role","path","exact","component","ErrorBoundry","hasError","this","setState","children","Component","Promise","resolve","setTimeout","ReactDOM","render","value","document","getElementById"],"mappings":"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","file":"static/js/main.1557daab.chunk.js","sourcesContent":["const updateBookList = (state, action) => {\n  if (state === undefined) {\n    return {\n      books: [],\n      loading: true,\n      error: null,\n    }\n  }\n\n  switch (action.type) {\n    case 'FETCH_BOOKS_REQUEST':\n      return {\n        books: [],\n        loading: true,\n        error: null\n      };\n\n    case 'FETCH_BOOKS_SUCCESS':\n      return {\n        books: action.payload,\n        loading: false,\n        error: null\n      };\n\n    case 'FETCH_BOOKS_FAILURE':\n      return {\n        books: [],\n        loading: false,\n        error: action.payload\n      };\n\n    default:\n      return state.bookList;\n  }\n};\n\nexport { updateBookList };\n","const updateCartItems = (cartItems, item, idx) => {\n  if (item.count === 0) {\n    return [\n      ...cartItems.slice(0, idx),\n      ...cartItems.slice(idx + 1),\n    ]\n  }\n\n  if (idx === -1) {\n    return [...cartItems, item];\n  } else {\n    return [\n      ...cartItems.slice(0, idx),\n      item,\n      ...cartItems.slice(idx + 1),\n    ]\n  };\n};\n\nconst updateCartItem = (item = {}, book, quantity) => {\n  const {\n    id = book.id,\n    title = book.title,\n    count = 0,\n    total = 0,\n  } = item;\n\n  return {\n    id,\n    title,\n    count: count + quantity,\n    total: total + quantity * book.price,\n  };\n};\n\nconst updateOrder = (state, bookId, quantity) => {\n  const { bookList: {books}, shoppingCart: {cartItems}} = state;\n  const book = books.find((book) => book.id === bookId);\n  const itemIndex = cartItems.findIndex(({id}) => id === bookId);\n  const item = cartItems[itemIndex];\n  const newItem = updateCartItem(item, book, quantity);\n  const newCartItems =  updateCartItems(cartItems, newItem, itemIndex);\n  const totalCostOrders  = newCartItems.reduce((acc, {total}) => acc + total, 0);\n\n  return {\n    ...state.shoppingCart,\n    orderTotal: totalCostOrders,\n    cartItems: newCartItems\n  };\n};\n\nconst updateShoppingCart = (state, action) => {\n  if (state === undefined) {\n    return {\n      cartItems: [],\n      orderTotal: 0,\n    }\n  }\n\n  switch (action.type) {\n    case 'BOOK_ADDED_TO_CART':\n      return updateOrder(state, action.payload, 1);\n\n    case 'MINUS_ITEM_IN_CART':\n      return updateOrder(state, action.payload, -1);\n\n    case 'BOOK_DELETE_FROM_CART':\n      const item = state.shoppingCart.cartItems.find(({id}) => id === action.payload)\n      return updateOrder(state, action.payload, -item.count);\n\n    default:\n      return state.shoppingCart;\n  }\n};\n\nexport { updateShoppingCart };\n","import { updateBookList } from \"./book-list\";\nimport { updateShoppingCart } from \"./shopping-cart\";\n\nconst reducer = (state, action) => {\n  return {\n    bookList: updateBookList(state, action),\n    shoppingCart: updateShoppingCart(state, action)\n  };\n};\n\nexport default reducer;\n","import { createStore, applyMiddleware } from 'redux';\nimport reducer from './reducers';\n\nconst logMiddleWare = ({getState}) => (next) => (action) => {\n  // console.log(action.type, getState());\n  return next(action);\n};\n\nconst stringMiddleWare = () => (next) => (action) => {\n  if (typeof action === 'string') {\n    return next({\n      type: action\n    });\n  }\n\n  return next(action);\n};\n\nconst store = createStore(reducer, applyMiddleware(\n  stringMiddleWare,\n  logMiddleWare));\n\nstore.dispatch('HELLO_WORLD');\n\nexport { store };\n","import ShopHeader from './shop-header';\n\nexport default ShopHeader;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nimport './shop-header.css';\n\nconst ShopHeader = ({ numItems, total }) => {\n  return (\n    <header className=\"shop-header row\">\n    <Link to=\"/\">\n      <div className=\"logo text-dark\">ReStore</div>\n    </Link>\n    <Link to=\"/cart\">\n      <div className=\"shopping-cart\">\n        <i className=\"cart-icon fa fa-shopping-cart\" />\n        {numItems} items (${total})\n      </div>\n    </Link>\n    </header>\n  )\n};\n\nconst mapStateToProps = ({shoppingCart: { cartItems, orderTotal }}) => {\n  return {\n    numItems: cartItems.length,\n    total: orderTotal\n  }\n};\n\nexport default connect(mapStateToProps)(ShopHeader);\n","import React from 'react'\n\nconst {\n  Provider: BookstoreServiceProvider,\n  Consumer: BookstoreServiceConsumer\n} = React.createContext();\n\nexport {\n  BookstoreServiceProvider,\n  BookstoreServiceConsumer\n};\n","import { BookstoreServiceConsumer } from '../bookstore-service-context'\n\nconst withBookstoreSrvice = () => (Wrapped) => {\n  return (props) => {\n    return (\n      <BookstoreServiceConsumer>\n        {\n          (bookstoreService) => {\n            return (\n              <Wrapped {...props} bookstoreService={bookstoreService} />\n            )\n          }\n        }\n      </BookstoreServiceConsumer>\n    )\n  }\n};\n\nexport default withBookstoreSrvice;\n","const booksRequested = () => {\n  return {\n    type: 'FETCH_BOOKS_REQUEST'\n  };\n};\n\nconst booksLoaded = (newBooks) => {\n  return {\n    type: 'FETCH_BOOKS_SUCCESS',\n    payload: newBooks\n  };\n};\n\nconst booksFetchError = (error) => {\n  return {\n    type: 'FETCH_BOOKS_FAILURE',\n    payload: error\n  }\n};\n\nexport const bookAddedToCart = (bookId) => {\n  return {\n    type: 'BOOK_ADDED_TO_CART',\n    payload: bookId,\n  };\n};\n\nexport const bookDeleteFromCart = (bookId) => {\n  return {\n    type: 'BOOK_DELETE_FROM_CART',\n    payload: bookId,\n  };\n};\n\nexport const plusItemInCart = (bookId) => {\n  return {\n    type: 'PLUS_ITEM_IN_CART',\n    payload: bookId,\n  };\n};\n\nexport const minusItemInCart = (bookId) => {\n  return {\n    type: 'MINUS_ITEM_IN_CART',\n    payload: bookId,\n  };\n};\n\nconst fetchBooks = (bookstoreService, dispatch) => () => {\n  dispatch(booksRequested());\n  bookstoreService.getBooks()\n  .then((data) => dispatch(booksLoaded(data)))\n  .catch((error) => {\n    dispatch(booksFetchError(error))\n  });\n};\n\nexport {\n  fetchBooks,\n};\n","import Spinner from './spinner';\n\nexport default Spinner;\n","import './spinner.css'\n\nconst Spinner = () => {\n  return (\n    <div className=\"loadingio-spinner-spin-f2aqm8i2gr6\">\n      <div className=\"ldio-4krmvf96n0t\">\n      <div>\n        <div></div>\n        </div>\n          <div>\n            <div></div>\n          </div>\n          <div>\n            <div></div>\n          </div>\n          <div>\n            <div></div>\n          </div>\n          <div>\n            <div></div>\n          </div>\n          <div>\n            <div></div>\n          </div>\n          <div>\n            <div></div>\n          </div>\n          <div>\n            <div></div>\n          </div>\n      </div>\n    </div>\n  )\n};\n\nexport default Spinner;\n","import BookListItem from './book-list-item';\n\nexport default BookListItem;\n","import React from 'react';\n\nimport './book-list-item.css';\n\nconst BookListItem = ({ book, onAddedToCart }) => {\n  const { title, author, price, coverImage } = book;\n\n  return (\n    <div className=\"book-list-item\">\n      <div className=\"book-cover\">\n        <img src={coverImage} alt=\"book-img\"/>\n      </div>\n      <div className=\"book-details\">\n        <span>{title}</span>\n        <div className=\"book-author\">{author}</div>\n        <div className=\"book-price\">{price}</div>\n        <button\n          onClick={() => onAddedToCart(book.id)}\n          className=\"btn btn-info add-to-cart\" >\n          Add to cart\n        </button>\n      </div>\n    </div>\n  )\n};\n\nexport default BookListItem;\n","import BookListItem from '../book-list-item';\nimport './book-list.css';\n\nconst BookList = ({ books, onAddedToCart }) => {\n  return (\n    <ul className=\"book-list\" >\n      {\n        books.map((book) => {\n          return (\n            <li key={book.id}>\n              <BookListItem book={book} onAddedToCart={onAddedToCart} />\n            </li>\n          )\n        })\n      }\n    </ul>\n  )\n}\n\nexport { BookList };\n","export default __webpack_public_path__ + \"static/media/error-indicator.387f18ca.jpg\";","import ErrorIndicator from \"./error-indicator\";;\n\nexport default ErrorIndicator;\n","import './error-indicator.css';\nimport icon from './error-indicator.jpg'\n\nconst ErrorIndicator = () => {\n  return (\n    <div className=\"error__indicator\">\n      <img className=\"error__indicator-img\" src={icon} alt=\"error\" />\n      <span className=\"error__indicator-sorry\">Sorry</span>\n      <span>something has go wrong</span>\n      <span>(but we already check what's going on)</span>\n    </div>\n  )\n};\n\nexport default ErrorIndicator;\n","import BookListConrainer from './BookListConrainer'\n\nexport default BookListConrainer;\n","const compose = (...fn) => (comp) => {\n  return fn.reduceRight((wrapped, f) => f(wrapped), comp);\n};\n\nexport { compose };\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\n\nimport { withBookstoreSrvice } from '../hoc';\nimport { fetchBooks, bookAddedToCart } from '../../actions';\nimport { compose } from \"../../utils\";\nimport Spinner from '../spinner';\nimport { BookList } from \"../book-list\";\nimport ErrorIndicatior from '../error-indicator';\n\nconst BookListConrainer = (props) => {\n  const { fetchBooks, books, loading, error, onAddedToCart } = props;\n  useEffect(() => {\n    fetchBooks()\n  }, [fetchBooks]);\n\n  if (loading) {\n    return (\n      <Spinner />\n    );\n  }\n\n  if (error) {\n    return <ErrorIndicatior />\n  }\n\n  return <BookList books={books} onAddedToCart={onAddedToCart} />\n};\n\nconst mapStateToProps = ({ bookList: { books, loading, error }}) => {\n  return { books, loading, error };\n};\n\nconst mapDispatchToProps = (dispatch, { bookstoreService }) => {\n  return {\n    fetchBooks: fetchBooks(bookstoreService, dispatch),\n    onAddedToCart: (id) => dispatch(bookAddedToCart(id)),\n  };\n};\n\nexport default compose(\n  withBookstoreSrvice(),\n  connect(mapStateToProps, mapDispatchToProps)\n)(BookListConrainer);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { bookDeleteFromCart, bookAddedToCart, minusItemInCart } from '../../actions'\n\nimport './shopping-cart-table.css';\n\nconst ShoppingCartTable = ({items, total, onIncrease, onDecrease, onDelete}) => {\n  const renderRow = (item, idx) => {\n    const { id, title, count, total } = item;\n    return (\n      <tr key={id}>\n        <td>{idx + 1}</td>\n        <td>{title}</td>\n        <td>{count}</td>\n        <td>{total}</td>\n        <td>\n          <button \n            onClick={() => onDelete(id)} \n            className=\"btn btn-outline-danger btn-sm float-right\">\n            <i className=\"fa fa-trash-o\" />\n          </button>\n          <button \n            onClick={() => onIncrease(id)} \n            className=\"btn btn-outline-success btn-sm float-right\">\n            <i className=\"fa fa-plus-circle\" />\n          </button>\n          <button \n            onClick={() => onDecrease(id)} \n            className=\"btn btn-outline-warning btn-sm float-right\">\n            <i className=\"fa fa-minus-circle\" />\n          </button>\n        </td>\n      </tr>\n    );\n};\n\n  return (\n    <div className=\"shopping-cart-table\">\n      <h2>Your Order</h2>\n      <table className=\"table\">\n        <thead>\n        <tr>\n          <th>#</th>\n          <th>Item</th>\n          <th>Count</th>\n          <th>Price</th>\n          <th>Action</th>\n        </tr>\n        </thead>\n\n        <tbody>\n          {\n            items.map(renderRow)\n          }\n        </tbody>\n      </table>\n\n      <div className=\"total\">\n        Total: ${total}\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = ({ shoppingCart: {cartItems, orderTotal}}) => {\n  return {\n    items: cartItems,\n    total: orderTotal\n  };\n};\n\nconst mapDispatchToProps = {\n  onIncrease: bookAddedToCart,\n  onDecrease: minusItemInCart,\n  onDelete: bookDeleteFromCart,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ShoppingCartTable);\n","import ShoppingCartTable from './shopping-cart-table';\n\nexport default ShoppingCartTable;\n","import React from 'react';\nimport BookListConrainer from '../containers';\nimport ShoppingCartTable from '../shopping-cart-table';\n\nconst HomePage = () => {\n  return (\n    <div>\n      <BookListConrainer />\n      <ShoppingCartTable />\n    </div>\n  )\n};\n\nexport default HomePage;\n","import React from 'react';\n\nconst CartPage = () => {\n  return <div>Cart page</div>\n};\n\nexport default CartPage;\n","import App from './App';\n\nexport default App;\n","import './app.css';\nimport { Switch, Route } from 'react-router-dom';\n\nimport ShopHeader from '../shop-header'\nimport { HomePage, CartPage} from '../pages';\n\nconst App = () => {\n  return (\n    <main role=\"main\" className=\"container\" >\n      <ShopHeader numItems={5} total={215} />\n      <Switch>\n        <Route path=\"/\" exact component={HomePage} />\n        <Route path=\"/cart\" component={CartPage} />\n      </Switch>\n    </main>\n  )\n};\n\nexport default App;\n","import ErrorBoundry from './error-boundry';\n\nexport default ErrorBoundry;\n","import React, { Component } from 'react'\nimport ErrorIndicator from '../error-indicator'\n\nclass ErrorBoundry extends Component {\n  state = {\n    hasError: false\n  }\n\n  componentDidCatch() {\n    this.setState({ hasError: true });\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return <ErrorIndicator />\n    }\n    return (\n      this.props.children\n    )\n  }\n}\n\nexport default ErrorBoundry;\n","import React, { StrictMode } from 'react'\nimport ReactDOM from 'react-dom';\nimport { store } from \"./store\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nimport App from './components/app';\nimport ErrorBoundry from './components/error-boundry'\nimport BookstoreService from \"./services/bookstore-service\";\nimport { BookstoreServiceProvider } from './components/bookstore-service-context';\n\nconst bookstoreService = new BookstoreService();\n\nReactDOM.render(\n  <StrictMode>\n    <Provider store={store}>\n      <ErrorBoundry>\n        <BookstoreServiceProvider value={bookstoreService}>\n          <Router>\n            <App />\n          </Router>\n        </BookstoreServiceProvider>\n      </ErrorBoundry>\n    </Provider>\n  </StrictMode>,\n  document.getElementById('root')\n);\n","export default class BookstoreService {\n  data = [\n      {\n        id: 1,\n        title: 'Production-Ready Microservices',\n        author: 'Susan J. Fowler',\n        price: 32,\n        coverImage: 'https://images-na.ssl-images-amazon.com/images/I/41yJ75gpV-L._SX381_BO1,204,203,200_.jpg'\n      },\n      {\n        id: 2,\n        title: 'Release It!',\n        author: 'Michael T. Nygard',\n        price: 45,\n        coverImage: 'https://images-na.ssl-images-amazon.com/images/I/414CRjLjwgL._SX403_BO1,204,203,200_.jpg'\n      }\n    ]\n\n  getBooks() {\n    return new Promise((resolve) => {\n      setTimeout(() => {\n        return resolve(this.data);\n      }, 200);\n    });\n  }\n}\n"],"sourceRoot":""}